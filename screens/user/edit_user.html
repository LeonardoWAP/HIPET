<!DOCTYPE html>
<html lang="en">
<head>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../style.css">
	<link rel="stylesheet" href="../reset.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body id="perfil">
    <section class="mobile-container">
		<header class="edit_header">
			<h1 class="title">Editar informações </h1>
            <img id="user-img" alt="Figura de uma pata de animal">
			<div class="input-img">
				<label for="formFileSm" class="form-label title">Atualize sua foto de perfil:</label>
				<input class="form-control form-control-sm" id="fileInput" type="file">              
			</div>
		</header>
		
		<form class="register-form edit-form" id="register-form">
		</form>

		<div id="edit-perfil-buttons">
			<button class="button-purple" 
			id="buttonUpdateUser"
			data-bs-target="#popUpadateUser"
			data-bs-toggle="modal" >Salvar Alterações</button>

			<button class="button-red" 
			id="buttonDeleteUser"
			data-bs-target="#popDeleteUser"
			data-bs-toggle="modal" >Deletar Usuario</button>
		</div>

	</section>

	<footer class="feed-footer footer-container" id="footer-perfil">
        <a href="../post/feed.html"> <img src="../../src/icon-home.svg"> </a>
        <a href="../post/create_post.html"> <img src="../../src/icon-new-post.svg"> </a>
    </footer>

	<div class="modal fade"
		id="popUpadateUser" 
		tabindex="-1" 
		aria-labelledby="popUpadateUserLabel" 
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" >
			<div class="modal-content">
			</div>
		</div>
	</div>

	<div class="modal fade"
		id="popDeleteUser" 
		tabindex="-1" 
		aria-labelledby="popDeleteUserLabel" 
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" >
			<div class="modal-content">

				<div class="modal-header">
					<h5 class="modal-title" id="popUpCadastroLabel">Deseja realmente deletar seu usuário?</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					Se confirmar a exclusão de seu usuário, todas as suas postagens também serão excluidos!
				</div>
				<div class="modal-footer">
					
			    <button id="excluirPerfil"type="button" class="modal-button-purple" data-bs-dismiss="modal">Excluir perfil e postagens</button>
			   
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script type="module">
		import {userEditForms , editUser , deleteUser, setUserIconFooter} from "../../controllers/user.js"

		userEditForms(localStorage.getItem('user-id'))
		setUserIconFooter(document.getElementById('footer-perfil'))

		document.querySelector("#buttonUpdateUser").addEventListener('click', editUser)

		document.querySelector("#excluirPerfil").addEventListener('click', deleteUser)
    </script>
</body>
</html>